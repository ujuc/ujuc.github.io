<!DOCTYPE html>
<html lang="ko">

  <head>
    <!-- Meta -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="ujuc">
    <meta name="description" content="Anythink, Everythink!">

    <meta property="og:site_name" content="ì˜ ë°¤ì— ì“¸ë°ì—†ëŠ” ìƒê°í•˜ê¸°...">
    <meta property="og:type" content="website">

      <meta name="keyward" content="network, config, networkd, netplan, ubuntu">
      <meta property="og:title" content="Ubuntu 17.10ì—ì„œë¶€í„° ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” Netplan">
      <meta property="og:description" content="<p>Ubuntu 17.10 ë¶€í„° ifupdown íŒ¨í‚¤ì§€ê°€ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì†Œì‹. Only Ubuntu. ê·¸ë˜ì„œ Netplanì€ ë­˜ê¹Œ?</p>">
      <meta property="og:url" content="https://ujuc.github.io/2017/11/18/ubuntu_17.10e-seo-bu-teo_gibon-eu-ro_sa-yong-doe-neun_netplan/">

    <!-- Title -->
    <title>
      ì˜ ë°¤ì— ì“¸ë°ì—†ëŠ” ìƒê°í•˜ê¸°... -   Ubuntu 17.10ì—ì„œë¶€í„° ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” Netplan
    </title>

<!-- Style sheet -->
<!-- Google web font -->
<link href="https://fonts.googleapis.com/css?family=Fira+Mono|Gugi|Noto+Serif+KR&display=swap&subset=korean" rel="stylesheet"> 

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

<!-- Font Awesome -->
<script src="https://kit.fontawesome.com/687641d3e8.js"></script>

<!-- Style -->
<link rel="stylesheet" type="text/css" href="https://ujuc.github.io/theme/css/style.css">
<link rel="stylesheet" type="text/css" href="https://ujuc.github.io/theme/css/pygments.css">

<!-- Feed -->
  <link href="https://ujuc.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="ì˜ ë°¤ì— ì“¸ë°ì—†ëŠ” ìƒê°í•˜ê¸°... ATOM" />
  <link href="https://ujuc.github.io/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="ì˜ ë°¤ì— ì“¸ë°ì—†ëŠ” ìƒê°í•˜ê¸°... RSS" />
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-58634276-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-58634276-1');
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-1014314833699403",
      enable_page_level_ads: true
    });
  </script>
  </head>

  <body>
  <header>
    <!-- navi -->
<div class="container" style="margin-top: 10px;">
  <nav class="nav">
      <li class="nav-item">
        <a class="nav-link" href="/">
          <i class="fas fa-inbox"></i> Blog
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/archives.html">
          <i class="fas fa-archive"></i> Archive
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/tags.html">
          <i class="fas fa-tags"></i> Tags
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/categories.html">
          <i class="fas fa-folder-open"></i> Categories
        </a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" data-toggle="dropdown" role="button">
          <i class="fas fa-newspaper"></i> Pages
        </a>
        <div class="dropdown-menu">
        </div>
      </li>
  </nav>
</div>  </header>

  <div id="site_article" class="container">
  <div class="row">
    <div class="container">
      <div class="article">
        <div class="article_title"><h1>Ubuntu 17.10ì—ì„œë¶€í„° ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” Netplan</h1></div>
        <div class="article_meta">
          <i class="far fa-calendar-plus"></i> 17. 11. 18. / <i class="fas fa-level-up-alt"></i> 
          <i class="fas fa-ellipsis-v"></i>
          <i class="far fa-folder-open"></i> <a href="https://ujuc.github.io/category/operation.html">Operation</a>
          <i class="fas fa-ellipsis-v"></i>
          <i class="fas fa-tags">
            <a href="https://ujuc.github.io/tag/network.html" class="article_tag">network</a>
            <a href="https://ujuc.github.io/tag/config.html" class="article_tag">config</a>
            <a href="https://ujuc.github.io/tag/networkd.html" class="article_tag">networkd</a>
            <a href="https://ujuc.github.io/tag/netplan.html" class="article_tag">netplan</a>
            <a href="https://ujuc.github.io/tag/ubuntu.html" class="article_tag">ubuntu</a>
          </i>
        </div>
        <div class="text-center"><i class="fas fa-poo" style></i></div>
        <div class="article_text"><p>ì²˜ìŒì—ëŠ” ë¦¬ëˆ…ìŠ¤ì—ì„œ IPë¥¼ Staticí•˜ê²Œ êµ¬ì„±í•˜ê¸°ìœ„í•´ <a href="https://askubuntu.com/questions/967695/ubuntu-17-10-will-not-accept-static-ip/967819#967819">ê²€ìƒ‰í•œ í˜ì´ì§€</a>ì—ì„œ ë…íŠ¹í•œ ë¬¸ë²•ì„ í™•ì¸í–ˆë‹¤.</p>
<p>ë¬¸ì˜ ë‚´ìš©ì€ 17.10ì—ì„œëŠ” <code>/etc/network/interfaces</code>ì— ì‘ì„±í•´ë‘” ì„¤ì •ì´ ì•ˆë¨¹íŒë‹¤ëŠ” ê²ƒì´ì—ˆë‹¤. ê·¸ëŸ¬ë©´ì„œ ë‹µë³€ìœ¼ë¡œ ë‹¬ë¦°ê²ƒì´ <a href="https://askubuntu.com/a/967819/126675">ìš”ë‚´ìš©</a>ì´ë‹¤.</p>
<p><code>ifupdown</code> íŒ¨í‚¤ì§€ë¥¼ ë”ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•Šê³ , Ubuntu 17.10 Serverì—ì„œ ë¶€í„°ëŠ” <code>netplan</code>ì´ë¼ëŠ” ê²ƒì„ ì‚¬ìš©í•˜ì—¬ <code>systemd-networkd</code>ë¥¼ ì œì–´í•œë‹¤ê³  ëª…ì‹œí•˜ê³  ìˆë‹¤.</p>
<p>ì‚¬ìš©ë²•ì´ ë¬˜í•˜ë‹¤. í˜¹ì‹œë‚˜í•´ì„œ <a href="https://wiki.ubuntu.com/ArtfulAardvark/ReleaseNotes">Ubuntu 17.10 release note</a>ë¥¼ ë³´ëŸ¬ê°”ì§€. ê·¸ë¬ë”ë‹ˆ <strong>Update Packages</strong>ì— ë‹¹ë‹¹íˆ Linux kernel ë‹¤ìŒì— í•œ ê¼­ì§€ë¡œ ìˆë‹¤. ë‚´ìš©ì€ ë‹¤ìŒ ê³¼ ê°™ë‹¤.</p>
<blockquote>
<p><strong>ifupdown</strong>Â has been deprecated in favor ofÂ <strong>netplan</strong>Â and is no longer present on new installs. The installer will generate a configuration file for <strong>netplan</strong> inÂ <em>/etc/netplan</em>, which will set up the system to configure the network via systemd-networkd orÂ NetworkManager. Desktop users will see their system fully managed viaÂ NetworkManagerÂ as it has been the case in previous releases, but Server users now have their network devices managed via systemd-networkd on new installs. This only applies to new installations.</p>
<p>Given that ifupdown is no longer installed by default, its commands will not be present:Â <code>ifup</code>Â andÂ <code>ifdown</code>Â are thus unavailable, replaced byÂ <code>ipÂ linkÂ setÂ $deviceÂ up</code>Â andÂ <code>ipÂ linkÂ setÂ $deviceÂ down</code>.</p>
<p>TheÂ <code>networkctl</code>Â command is also available for users to see a summary of the network devices.Â <code>networkctl</code>Â statusÂ will display the current global state of IP addresses on the system; andÂ <code>networkctlÂ statusÂ $device</code>Â can display the details specific to a network device.</p>
<p>For more information about netplan, please refer to the manual page using theÂ <code>manÂ 5Â netplan</code>Â command.</p>
</blockquote>
<p>ê·¸ë¦¬ê³  ì°¾ë‹¤ë³´ë‹ˆ ì´ê±´ Ubuntuì—ì„œë§Œ ì‚¬ìš©í•˜ëŠ” í”„ë¡œì íŠ¸ë¡œ ë³´ì´ëŠ”ë°&hellip; ë‹¤ë¥¸ ë°°í¬íŒì—ì„œëŠ” ì‚¬ìš©ë  í™•ë¥ ì´ ë†’ì§€ëŠ” ì•Šìœ¼ë‹ˆ&hellip; ì´ê²ƒì°¸&hellip;</p>
<p>ì•„ë˜ ë‚´ìš©ì€ ì •ë¦¬í•´ë‘”ê±°ê³ , ë‚˜ì¤‘ì— man í˜ì´ì§€ë‚˜ ì •ë¦¬í•´ì„œ ì˜¬ë ¤ë‘¬ì•¼ê² ë‹¤.</p>
<h2 id="netplan">Netplan</h2>
<p><img alt="Design overview" src="https://wiki.ubuntu.com/Netplan/Design?action=AttachFile&amp;do=get&amp;target=design_overview.png"></p>
<h3 id="netplan_1">Netplan ì†Œê°œ</h3>
<ul>
<li>YAML êµ¬ì„± íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ êµ¬ì„±ì„ í•œë‹¤.</li>
<li>ì´ˆê¸° ë¶€íŒ…ì‹œ, â€œnetwork rendererâ€ ì‘ë™í• ë•Œ <em>/{lib,etc,run}/netplan*.yaml</em> ë‚´ìš©ì„ ì½ê³ , ì§€ì •ëœ ë„¤íŠ¸ì›Œí‚¹ daemonì— ì¥ì¹˜ì— ëŒ€í•œ <em>/run</em> ì— êµ¬ì„±ì„ ì“´ë‹¤.</li>
<li>systemd-networkd ë¥¼ renderer ê¸°ë³¸ ê°’ìœ¼ë¡œ í•˜ì—¬ ì¥ì¹˜ë¥¼ í•¸ë“¤ë§í•˜ë©°, ë‹¤ë¥¸ renderer (NetworkManger)ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.</li>
<li>ë„¤íŠ¸ì›Œí¬ êµ¬ì„±ì—ì„œ ë‹¤ë£¨ì§€ ì•ŠëŠ” ì¥ì¹˜ëŠ” ì „í˜€ ê±´ë“œë¦¬ì§€ ì•ŠëŠ”ë‹¤.</li>
<li>initramfsì—ì„œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.</li>
<li>êµ¬ì„±ì´ ì§€ì†ë˜ì§€ ì•Šê³ , YAML ë¡œë§Œ êµ¬ì„±ì„ ì‘ì„±í•œë‹¤.</li>
<li>íŒŒì„œëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ (libvert, lxd)ì—ì„œ ì‚¬ìš©ì´ ì˜ˆìƒë˜ëŠ” ë„¤íŠ¸ì›Œí¬ êµ¬ì„± (<code>virtbr0</code>, <code>lxdvr0</code>)ë¥¼ íŒ¨í‚¤ì§€í™” í•  ìˆ˜ ìˆë„ë¡ ë©€í‹° êµ¬ì„± íŒŒì¼ì— ëŒ€í•œ ì§€ì›ì„ í•˜ê±°ë‚˜, NetworkManagerë¥¼ ì´ìš©í•˜ì—¬ ëª¨ë“  ê²ƒì„ ì‚¬ìš©í•˜ë„ë¡ ê¸€ë¡œë²Œ ê¸°ë³¸ ì •ì±…ì„ ë³€ê²½í•  ìˆ˜ ìˆì–´ì•¼í•œë‹¤.</li>
<li>ë°±ì—”ë“œ/ì •ì±…ì„ ë³€ê²½í•˜ê±°ë‚˜, <code>apt purge network-manager</code>ë¥¼ í•  ìˆ˜ ìˆëŠ” ìœ ì—°ì„±ì„ ìœ ì§€í•´ì•¼í•œë‹¤.</li>
</ul>
<h3 id="_1">ëª…ë ¹ì–´</h3>
<ul>
<li><code>netplan generate</code> : <em>/etc/netplan</em>ì— rendererì— ëŒ€í•œ êµ¬ì„±ë“¤ì„ ìƒì„±í•œë‹¤.</li>
<li><code>netplan apply</code> : rendererì— ëŒ€í•œ êµ¬ì„±ë“¤ì„ ì ìš©í•˜ê³ , í•„ìš”ì—ë”°ë¼ ì¬ì‹œì‘í•œë‹¤.</li>
<li><code>netplan ifupdown-migrate</code> : <em>/etc/network/interfaces</em> ì˜ ë‚´ìš©ì„ ë§ˆì´ê·¸ë ˆì´ì…˜ í•œë‹¤.</li>
</ul>
<h3 id="_2">ì‚¬ìš©ë²•</h3>
<ul>
<li>ì„¤ì •í•œ ì¸í„°í˜ì´ìŠ¤ ë„ê³ í‚¤ê¸°</li>
</ul>
<div class="codehilite"><pre><span></span>$ ip link <span class="nb">set</span> <span class="nv">$dev</span> up
$ ip link <span class="nb">set</span> <span class="nv">$dev</span> down
</pre></div>


<ul>
<li>ê³ ì • ì•„ì´í”¼ ì„¤ì • <em>/etc/netplan/a.yaml</em></li>
</ul>
<div class="codehilite"><pre><span></span><span class="n">network</span><span class="o">:</span>
    <span class="n">version</span><span class="o">:</span> <span class="mi">2</span>
    <span class="n">renderer</span><span class="o">:</span> <span class="n">networkd</span>
    <span class="n">ethernets</span><span class="o">:</span>
        <span class="n">enp3s0</span><span class="o">:</span>
            <span class="n">addresses</span><span class="o">:</span>
                <span class="o">-</span> <span class="mf">10.10</span><span class="o">.</span><span class="mf">10.2</span><span class="o">/</span><span class="mi">24</span>
            <span class="n">dhcp4</span><span class="o">:</span> <span class="n">no</span>
</pre></div>


<h3 id="netplan_2">Netplanì„ ì‚¬ìš©í•˜ê³  ì‹¶ì§€ ì•Šì„ ê²½ìš°</h3>
<p>Ubuntu ì„œë²„ ì„¤ì¹˜ ì´ë¯¸ì§€ë¡œ ë¶€íŒ…ì‹œ grub (<code>e</code> ë²„íŠ¼ì„ í´ë¦­í•´ì„œ ìˆ˜ì •í•˜ê±°ë‚˜, F6ì„ ëˆŒëŸ¬ bootspashë¡œ ë“¤ì–´ê°€ì„œ)ì—ì„œ preseeding ì„¤ì •ìœ¼ë¡œ <code>netcfg/do_not_use_netplan=true</code> ëª…ë ¹ì„ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.</p>
<h2 id="_3">ì°¸ê³  í˜ì´ì§€</h2>
<ul>
<li>Homepage : <a href="https://launchpad.net/netplan">launchpad.net/netplan</a></li>
<li>Code : <a href="https://git.launchpad.net/netplan">git.launchpad.net/netplan</a><ul>
<li>ì²« ì»¤ë°‹ : <a href="https://git.launchpad.net/netplan/commit/?id=b6256ca911ba9762e04a9c7614dc226f4753ffb8">b6256ca911ba9762e04a9c7614dc226f4753ffb8</a></li>
</ul>
</li>
<li>Wiki : <a href="https://wiki.ubuntu.com/Netplan">wiki.ubuntu.com/Netplan</a><ul>
<li><a href="https://wiki.ubuntu.com/Netplan/Design">Netplan Design</a></li>
</ul>
</li>
<li>ManPage : <a href="http://people.canonical.com/~mtrudel/netplan/">netplan</a><ul>
<li><a href="https://git.launchpad.net/netplan/tree/doc/netplan.md">doc/netplan.md</a></li>
</ul>
</li>
<li><a href="https://insights.ubuntu.com/2017/07/10/netplan-by-default-in-17-10/">Netplan by default in 17.10</a></li>
</ul></div>
        <div class="text-center"><i class="far fa-hand-spock"></i></div>

        <!-- Buy me a coffee -->
        <div class="text-center">
<p>
  <a href="https://www.buymeacoffee.com/8967ktT" target="_blank">
    <img src="https://cdn.buymeacoffee.com/buttons/default-black.png"
         alt="Buy Me A Coffee"
         style="width:15%"
    >
  </a>
</p>        </div>

        <!-- Comment -->
        <div id="utterances">
          <script src="https://utteranc.es/client.js"
                  repo="ujuc/ujuc.github.io"
                  issue-term="url"
                  theme="github-light"
                  crossorigin="anonymous"
                  async>
          </script>
        </div>
          <div class="article_comments"><div id="disqus_thread" style="width: 100%"></div>
<script>

  /**
   *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
   *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
  /*
  var disqus_config = function () {
  this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
  this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
  };
  */
  (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://ujucgithub.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
        <div class="text-center">ğŸ—</div>
      </div>
    </div>
  </div>
  </div>

  <!-- body foot -->
  <div class="row">
    <div class="container">
    </div>
  </div>

  <!-- Title -->
  <div id="site_title" class="container">
<div class="row">
  <div class="container">
    <hr />
    <p><a href="https://ujuc.github.io" class="article_title">ì˜ ë°¤ì— ì“¸ë°ì—†ëŠ” ìƒê°í•˜ê¸°...</a></p>
    <p>Anythink, Everythink!</p>
    <span id="social-github"><a href="https://github.com/ujuc"><i class="fab fa-github-alt"></i></a></span>
    <span id="social-linkin"><a href="https://kr.linkedin.com/in/sungjinkang"><i class="fab fa-linkedin-in"></i></a></span>
  </div>
</div>  </div>

  <!-- Footer -->
  <div id="site_footer" class="container">
<div class="row text-right">
  <div class="container" style="margin-bottom: 10px;">
    <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
      <i class="far fa-closed-captioning"></i> BY-SA</a> 2012-2020 ujuc. Built using <a href="http://getpelican.com" target="_blank">Pelican</a>.
  </div>
</div>  </div>

  <!-- Javascript -->
<!-- Jquery -->
<!--<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>-->
<!--<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>-->  <div id="js" class="contents">
  </div>

  </body>
</html>
<!DOCTYPE html>
<html lang="ko">

  <head>
<!-- Meta -->
<meta charset="UTF-8">
<meta name="author" content="ujuc">
<meta name="description" content="Posts and writings by ujuc">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Style sheet -->

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<!-- Font Awesome -->
<script src="https://kit.fontawesome.com/687641d3e8.js"></script>

<!-- Google web font -->
<style>
  @import url('https://fonts.googleapis.com/css?family=Fira+Mono|Noto+Serif+KR|Sunflower:300&display=swap');
</style>

<!-- Style -->
<link rel="stylesheet" type="text/css" href="https://ujuc.github.io/theme/css/style.css">
<link rel="stylesheet" type="text/css" href="https://ujuc.github.io/theme/css/pygments.css">

<!-- Feed -->
  <link href="https://ujuc.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="잘 밤에 쓸데없는 생각하기... ATOM" />
  <link href="https://ujuc.github.io/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="잘 밤에 쓸데없는 생각하기... RSS" />

    <!-- Article head -->
  <meta name="keywords" content="google, cloud, gcp, google cloud platform, ndb">

    <!-- Title -->
    <title>
    잘 밤에 쓸데없는 생각하기... -   [Google App Engine] <span class="caps">NDB</span> -&nbsp;Properties
    </title>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-58634276-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-58634276-1');
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-1014314833699403",
      enable_page_level_ads: true
    });
  </script>
  </head>

  <body>
  <header>
    <!-- navi -->
<div class="container" style="margin-top: 10px;">
  <nav class="nav">
      <li class="nav-item">
        <a class="nav-link" href="/">
          <i class="fas fa-inbox"></i> Blog
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/archives.html">
          <i class="fas fa-archive"></i> Archive
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/tags.html">
          <i class="fas fa-tags"></i> Tags
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/categories.html">
          <i class="fas fa-folder-open"></i> Categories
        </a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" data-toggle="dropdown" role="button">
          <i class="fas fa-newspaper"></i> Pages
        </a>
        <div class="dropdown-menu">
        </div>
      </li>
  </nav>
</div>  </header>

  <div id="site_article" class="container">
  <div class="row">
    <div class="container">
      <div class="article">
        <div class="article_title"><h1>[Google App Engine] <span class="caps">NDB</span> -&nbsp;Properties</h1></div>
        <div id="division"><i class="fas fa-poo" style></i></div>
        <div class="article_text"><ul>
<li>관련해서 한글로되 문서가 없어서 <a href="https://cloud.google.com/appengine/docs/python/ndb/properties">2014/10/27일자 문서</a>를 가지고서&nbsp;정리하였다.</li>
</ul>
<h2 id="_1">소개</h2>
<p><code>Model</code>에서 사용할 수 있는 데이터 모델을 말한다. 모델 타입으로 생각하면 쉽겠다. 어려울 것도&nbsp;없다만.</p>
<h2 id="type">Type</h2>
<table>
<thead>
<tr>
<th>Property type</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>IntegerProperty</code></td>
<td>64-bit signed 정수 값</td>
</tr>
<tr>
<td><code>FloatProperty</code></td>
<td>Double-precision 부동 소수점 숫자 값</td>
</tr>
<tr>
<td><code>BooleanProperty</code></td>
<td>Boolean 값</td>
</tr>
<tr>
<td><code>StringProperty</code></td>
<td>유니코드 스트링 값, 500자까지 가능, 인덱스 가능</td>
</tr>
<tr>
<td><code>TextProperty</code></td>
<td>유니코드 스트링 값, 길이 제한 없음, 인덱스 기능 없음</td>
</tr>
<tr>
<td><code>BlobProperty</code></td>
<td>해석되지 않은 (Uninterpreted) 바이트 스트링, <code>indexed=True</code>로 설정하게되면 500자로 제한, 인덱스 가능. <br>하지만 <code>False</code>(기본 값)으로 설정하게 되면, 길이 제한 없으며, 인덱스 기능 없음. (추가 속성으로 <a href="https://cloud.google.com/appengine/docs/python/ndb/properties#compressed"><code>compressed</code></a>를 사용할 수 있음)</td>
</tr>
<tr>
<td><code>DateTimeProperty</code></td>
<td>날짜와 시간 (자세한 내용은 <a href="https://cloud.google.com/appengine/docs/python/ndb/properties#Date_and_Time">Date and Time Properties</a>에서 확인)</td>
</tr>
<tr>
<td><code>DateProperty</code></td>
<td>날짜 (자세한 내용은 <a href="https://cloud.google.com/appengine/docs/python/ndb/properties#Date_and_Time">Date and Time Properties</a>에서 확인)</td>
</tr>
<tr>
<td><code>TimeProperty</code></td>
<td>시간 (자세한 내용은 <a href="https://cloud.google.com/appengine/docs/python/ndb/properties#Date_and_Time">Date and Time Propertyes</a>에서 확인)</td>
</tr>
<tr>
<td><code>GeoPtProperty</code></td>
<td>지리적 정보데이터를 입력 받음. <code>ndb.GeoPt</code>객체인데, <code>lat</code>, <code>lon</code> 값(둘다 부동소수점으로 표기)을 가지고서 작업을 진행.<br>예, <code>ndb.GeoPt(52.37, 4.88)</code> or <code>ndb.GeoPt("52.37", "4.88")</code>형식.<br>(<a href="https://cloud.google.com/appengine/docs/python/datastore/typesandpropertyclasses#GeoP"><code>db.GeoPt</code></a>와 동일한 객체.)</td>
</tr>
<tr>
<td><code>KeyProperty</code></td>
<td>Datastore key 값<br>선택 키워드로 kind=<em>kind</em> 형식으로 나오며, 할당된 키는 항상 kind를 지정해야함.<br>문자열이거나, 모델 클레스가 될수도 있음.</td>
</tr>
<tr>
<td><code>BlobKeyProperty</code></td>
<td><code>Blobstore</code> 키 값<br>이전 <span class="caps">DB</span> API의 <code>BlobReferenceProperty</code>에 해당.<br><code>BlobInfo</code>대신 <code>BlobKey</code>로 속성 값을 사용. <code>BlobInfo(blobkey)</code>를 사용하여 <code>BlobInfo</code>를 구성할 수 있긴함.</td>
</tr>
<tr>
<td><code>UserProperty</code></td>
<td>유저 객체.<br>Google의 사용자 로그인으로 관련된 내용을 저장하여 사용할때 쓴다.</td>
</tr>
<tr>
<td><code>StructuredProperty</code></td>
<td>하나의 kind 내부에 다른 모델을 추가하는 것.<br><code>C</code>의 구조체와 비슷하다고 생각하자.<br>여러번 중복이 가능하고 값을 불러오게되면 JSON방식으로 불러오는 것이 편하다.<br>자세한 내용은 <a href="https://cloud.google.com/appengine/docs/python/ndb/properties#structured">Structured Properties</a>에서 확인</td>
</tr>
<tr>
<td><code>LocalStructuredProperty</code></td>
<td><code>StructuredProperty</code>와 비슷하게 사용할 수 있으나, 인덱싱이 안된다. 자세한 내용은 <a href="https://cloud.google.com/appengine/docs/python/ndb/properties#structured">Structured Properties</a>에서 확인.<br>추가 속성: <a href="https://cloud.google.com/appengine/docs/python/ndb/properties#compressed"><code>compressed</code></a></td>
</tr>
<tr>
<td><code>JsonProperty</code></td>
<td>파이썬 객체(리스트, 딕셔너리, 스트링) 값을 파이썬 <code>json</code>모듈을 이용하여 직열화함.<br>Datastore에서는 blob로 json 직렬화하여 저장.<br>인덱스 안됨.<br>추가 속성: <a href="https://cloud.google.com/appengine/docs/python/ndb/properties#compressed"><code>compressed</code></a></td>
</tr>
<tr>
<td><code>PickleProperty</code></td>
<td>파이썬 객체(리스트, 딕셔너리, 스트링) 값을 파이썬 pickle 프로토콜을 이용하여 직열화함.<br>Datastore에서는 blob로 pickle 직렬화하여 저장.<br>인덱스 안됨.<br>추가 속성: <a href="https://cloud.google.com/appengine/docs/python/ndb/properties#compressed"><code>compressed</code></a></td>
</tr>
<tr>
<td><code>GenericProperty</code></td>
<td>기본 값.<br><a href="https://cloud.google.com/appengine/docs/python/ndb/entities#expando">Expando</a>클래스에서 주로 사용되지만, 명시적으로 사용하기도함.<br>어떤 형식으로도 가능. (<code>int</code>, <code>long</code>, <code>float</code>, <code>bool</code>, <code>str</code>, <code>unicode</code>, <code>datetime</code>, <code>Key</code>, <code>BlobKey</code>, <code>GeoPt</code>, <code>User</code>, <code>None</code>)</td>
</tr>
<tr>
<td><code>ComputeProperty</code></td>
<td>사용자가 정의한 함수에서 계산 값들을 처리하여 저장.<br>자세한 내용은 <a href="https://cloud.google.com/appengine/docs/python/ndb/properties#computed">Computed Properties</a></td>
</tr>
</tbody>
</table>
<ul>
<li><code>compressed</code> 옵션: <code>True</code>로 설정시, gzip으로 압축하여 디스크에 저장함. 이때 <span class="caps">CPU</span> 인/디코딩하는데 IO를 사용을&nbsp;함. </li>
</ul>
<h2 id="property-options">Property&nbsp;Options</h2>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th>Default</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>indexed</code></td>
<td><code>bool</code></td>
<td>사용하는 것만 <code>True</code></td>
<td><code>False</code>로 설정시 쿼리는 불가능해지나 쓰기 속도가 높아짐.<br>다 사용가능한건 아님.<br>인덱스 안하는게 인덱스하는 것보다 write 코스트가 적음.</td>
</tr>
<tr>
<td><code>repeated</code></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>파이썬 리스트 형식으로 값으로 표현.<br>중복이 필요한 작업에 사용.<br><a href="https://cloud.google.com/appengine/docs/python/ndb/properties#repeated">Repeated Properties</a></td>
</tr>
<tr>
<td><code>required</code></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>꼭 필요한 값으로 표기.<br><code>repeated=True</code>와 같이 사용하지 못하며, <code>default=True</code>와는 같이 사용할 수 있음.</td>
</tr>
<tr>
<td><code>default</code></td>
<td>Property 기본 유형</td>
<td><code>None</code></td>
<td>아무것도 지정하지 않을경우, 기본으로 들어감.<br><code>repeated=True</code>와 같이 사용하지 못하며, <code>required=True</code>와 같이 사용할 수 있음</td>
</tr>
<tr>
<td><code>choices</code></td>
<td>기본 유형의 값 목록</td>
<td><code>None</code></td>
<td>값을 선택할 수 있는 목록</td>
</tr>
<tr>
<td><code>validator</code></td>
<td>함수</td>
<td><code>None</code></td>
<td>값을 함수에 맞게 검증하고 그것으로 입력하도록 설정합니다.<br>자세한 내용은 <a href="https://cloud.google.com/appengine/docs/python/ndb/subclassprop">Writing Property Subclasses</a></td>
</tr>
<tr>
<td><code>verbose_name</code></td>
<td>문자열</td>
<td><code>None</code></td>
<td>Jinja2와 같은 웹프레임 워크에서 사용되는 <span class="caps">HTML</span> label을 나타냄</td>
</tr>
</tbody>
</table>
<ul>
<li>이후 내용은 그냥 홈피보자.<ul>
<li>딱히 적을 내용도&nbsp;없음.</li>
</ul>
</li>
</ul></div>
        <div id="division"><i class="far fa-hand-spock"></i></div>
        <div class="article_meta">
          <i class="far fa-calendar-plus"></i> 14. 11. 10.
          <i class="fas fa-ellipsis-v"></i>
          <i class="far fa-folder-open"></i> <a href="https://ujuc.github.io/category/develop.html">Develop</a>
          <i class="fas fa-ellipsis-v"></i>
          <i class="fas fa-tags">
              <a href="https://ujuc.github.io/tag/google.html" class="article_tag">google</a>
              <a href="https://ujuc.github.io/tag/cloud.html" class="article_tag">cloud</a>
              <a href="https://ujuc.github.io/tag/gcp.html" class="article_tag">gcp</a>
              <a href="https://ujuc.github.io/tag/google-cloud-platform.html" class="article_tag">google cloud platform</a>
              <a href="https://ujuc.github.io/tag/ndb.html" class="article_tag">ndb</a>
          </i>
        </div>
        <!-- Comment -->
        <div id="utterances">
          <script src="https://utteranc.es/client.js"
                  repo="ujuc/ujuc.github.io"
                  issue-term="url"
                  theme="github-light"
                  crossorigin="anonymous"
                  async>
          </script>
        </div>
          <div class="article_comments"><div id="disqus_thread" style="width: 100%"></div>
<script>

  /**
   *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
   *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
  /*
  var disqus_config = function () {
  this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
  this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
  };
  */
  (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://ujucgithub.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
        <div style="text-align: center">🎗</div>
      </div>
    </div>
  </div>
  </div>

  <!-- body foot -->
  <div class="row">
    <div class="container">
    </div>
  </div>

  <!-- Title -->
  <div id="site_title" class="container">
<div class="row">
  <div class="container">
    <hr />
    <h3><a href="https://ujuc.github.io" class="h3">잘 밤에 쓸데없는 생각하기...</a></h3>
    <p>Anythink, Everythink!</p>
    <span id="social-github"><a href="https://github.com/ujuc"><i class="fab fa-github-alt"></i></a></span>
    <span id="social-linkin"><a href="https://kr.linkedin.com/in/sungjinkang"><i class="fab fa-linkedin-in"></i></a></span>
  </div>
</div>  </div>

  <!-- Footer -->
  <div id="site_footer" class="container">
<div class="row">
  <div class="container">
    <p><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><i class="far fa-closed-captioning"></i> BY-SA</a> ujuc. Built using <a href="http://getpelican.com" target="_blank">Pelican</a>.</p>
  </div>
</div>  </div>

  <!-- Javascript -->
<!-- Jquery -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>  <div id="js" class="contents">
  </div>

  </body>
</html>